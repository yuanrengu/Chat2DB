"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[41030],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||i;return n?o.createElement(g,a(a({ref:t},u),{},{components:n})):o.createElement(g,a({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,a[1]=l;for(var p=2;p<i;p++)a[p]=n[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},84514:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>c});n(67294);var o=n(3905);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const l={title:"Quickstart",description:"Quickstart guide for iOS mobile core.",sidebar_position:1,tags:["mobile-core","quickstart"],slug:"/"},s="iOS Core SDK Quickstart",p={unversionedId:"quickstart",id:"quickstart",title:"Quickstart",description:"Quickstart guide for iOS mobile core.",source:"@site/docs/ios-core/quickstart.mdx",sourceDirName:".",slug:"/",permalink:"/ios-core/",draft:!1,editUrl:"https://github.com/dyte-in/docs/tree/main/docs/ios-core/quickstart.mdx",tags:[{label:"mobile-core",permalink:"/ios-core/tags/mobile-core"},{label:"quickstart",permalink:"/ios-core/tags/quickstart"}],version:"current",lastUpdatedAt:1682413496,formattedLastUpdatedAt:"Apr 25, 2023",sidebarPosition:1,frontMatter:{title:"Quickstart",description:"Quickstart guide for iOS mobile core.",sidebar_position:1,tags:["mobile-core","quickstart"],slug:"/"},sidebar:"tutorialSidebar",next:{title:"Introduction",permalink:"/ios-core/local-user/introduction"}},u={},c=[{value:"Objective",id:"objective",level:2},{value:"Before Getting Started",id:"before-getting-started",level:2},{value:"Step 1: Install the SDK",id:"step-1-install-the-sdk",level:2},{value:"Step 2: Initialize the SDK",id:"step-2-initialize-the-sdk",level:2},{value:"Step 3: Set the properties in the DyteMeetingInfo class",id:"step-3-set-the-properties-in-the-dytemeetinginfo-class",level:2},{value:"Step 4: Initialize the connection request",id:"step-4-initialize-the-connection-request",level:2},{value:"Step 5: Connect to the meeting",id:"step-5-connect-to-the-meeting",level:2},{value:"Join the room",id:"join-the-room",level:3},{value:"Leave the room",id:"leave-the-room",level:3},{value:"iOS release builds",id:"ios-release-builds",level:2}],d={toc:c},m="wrapper";function g(e){var{components:t}=e,n=a(e,["components"]);return(0,o.kt)(m,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"ios-core-sdk-quickstart"},"iOS Core SDK Quickstart"),(0,o.kt)("p",null,"This quickstart shows how to use Dyte's iOS Core SDK to add live video and audio\nto your iOS applications."),(0,o.kt)("p",null,"For getting started quickly, you can use our\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dyte-in/mobile-core-sample-ios"},"sample code"),". You can clone\nand run a sample application from the\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dyte-in/mobile-core-sample-ios"},"iOS Core SDK GitHub repository"),"."),(0,o.kt)("h2",{id:"objective"},"Objective"),(0,o.kt)("p",null,"You\u2019ll learn how to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Install the Dyte SDK"),(0,o.kt)("li",{parentName:"ul"},"Initialize the SDK"),(0,o.kt)("li",{parentName:"ul"},"Configure a Dyte meeting"),(0,o.kt)("li",{parentName:"ul"},"Initialize the Dyte meeting"),(0,o.kt)("li",{parentName:"ul"},"And go live with your Dyte meeting")),(0,o.kt)("h2",{id:"before-getting-started"},"Before Getting Started"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Make sure you've read the\n",(0,o.kt)("a",{parentName:"li",href:"https://docs.dyte.io/getting-started"},"Getting Started with Dyte")," topic and\ncompleted the steps in the\n",(0,o.kt)("a",{parentName:"li",href:"https://docs.dyte.io/getting-started#integrate-dyte"},"Integrate Dyte")," section.\nYou must complete the following steps:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Create a ",(0,o.kt)("a",{parentName:"li",href:"https://dev.dyte.io/"},"Dyte Developer Account")),(0,o.kt)("li",{parentName:"ul"},"Create ",(0,o.kt)("a",{parentName:"li",href:"https://dev.dyte.io/roles-presets"},"Presets")),(0,o.kt)("li",{parentName:"ul"},"Create a\n",(0,o.kt)("a",{parentName:"li",href:"https://docs.dyte.io/api/?v=v2#/operations/create_meeting"},"Dyte Meeting")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.dyte.io/api/?v=v2#/operations/add_participant"},"Add Participant"),"\nto the meeting"))),(0,o.kt)("li",{parentName:"ul"},"Install\n",(0,o.kt)("a",{parentName:"li",href:"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwin55bqodH8AhUVQXwKHaR-DAsQFnoECA0QAQ&url=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fxcode%2Fid497799835%3Fmt%3D12&usg=AOvVaw2fEvMbfRtGhB4SPHYB54NX"},"Xcode")),(0,o.kt)("li",{parentName:"ul"},"Ensure that Rosetta is installed with Xcode on Mac computers with Apple\nsilicon."),(0,o.kt)("li",{parentName:"ul"},"Make sure your Mac computers are running macOS version 12.0 Monterey or\nhigher.")),(0,o.kt)("h2",{id:"step-1-install-the-sdk"},"Step 1: Install the SDK"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Set your platform to iOS 12.0 or above in your Podfile.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ruby"},"platform: 'ios, '12.0''\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Add 'DyteiOSCore' to your Podfile.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ruby"},"pod 'DyteiOSCore'\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Install the client SDK from pod.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"pod install\n")),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Add the following entries to the info.plist file. This gives permission to\nyour app to access the camera and microphone, access photos, install the\nrequired fonts and icons.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<key>NSBluetoothPeripheralUsageDescription</key>\n<string>We will use your Bluetooth to access your Bluetooth headphones.</string>\n<key>NSBluetoothAlwaysUsageDescription</key>\n<string>We will use your Bluetooth to access your Bluetooth headphones.</string>\n<key>NSCameraUsageDescription</key>\n<string>For people to see you during meetings, we need access to your camera.</string>\n<key>NSMicrophoneUsageDescription</key>\n<string>For people to hear you during meetings, we need access to your microphone.</string>\n<key>NSPhotoLibraryUsageDescription</key>\n<string>For people to share, we need access to your photos.</string>\n<false/>\n")),(0,o.kt)("admonition",{title:"Note",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"If you intend to publish your app to the App Store, you'll need to perform a few\nadditional steps. So if you\u2019re working on release build and not debug builds,\nrefer to the ",(0,o.kt)("a",{parentName:"p",href:"#ios-release-builds"},"iOS release builds")," section.")),(0,o.kt)("h2",{id:"step-2-initialize-the-sdk"},"Step 2: Initialize the SDK"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"DyteMobileClient")," is the main class of the SDK. It is the main entry\npoint of the SDK. It is the only class that you need to instantiate in order\nto use the SDK. To instantiate DyteMobileClient, you should use\n",(0,o.kt)("inlineCode",{parentName:"li"},"DyteiOSClientBuilder().build()"),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"let meeting = DyteiOSClientBuilder().build()\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Add listeners and implement callback stubs.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"meeting.addMeetingRoomEventsListener(meetingRoomEventsListener: self)\nmeeting.addParticipantEventsListener(participantEventsListener: self)\nmeeting.addSelfEventsListener(selfEventsListener: self)\n")),(0,o.kt)("h2",{id:"step-3-set-the-properties-in-the-dytemeetinginfo-class"},"Step 3: Set the properties in the DyteMeetingInfo class"),(0,o.kt)("p",null,"If you're using v1 APIs, then you need to pass the roonName and authToken. For\nv2, you just need to provide the participant's authToken."),(0,o.kt)("p",null,"You can get the ",(0,o.kt)("inlineCode",{parentName:"p"},"roomName")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"authToken")," using our backend APIs. Please refer\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.dyte.io/api#/operations/createMeeting"},"this for room name")," &\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.dyte.io/api#/operations/addParticipant"},"this for auth token")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Name"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"roomName")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://docs.dyte.io/api/?v=v1#/operations/create_meeting"},"Create a meeting API")," returns ",(0,o.kt)("br",null)," an unique identifier for your meeting ",(0,o.kt)("br",null)," ",(0,o.kt)("inlineCode",{parentName:"td"},"roomName"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"authToken")),(0,o.kt)("td",{parentName:"tr",align:null},"After you've created the meeting, ",(0,o.kt)("br",null)," add each participant to the meeting ",(0,o.kt)("br",null)," using the ",(0,o.kt)("a",{parentName:"td",href:"https://docs.dyte.io/api?v=v2#/operations/add_participant"},"Add Participant API"),(0,o.kt)("br",null)," (The presetName created earlier ",(0,o.kt)("br",null)," must be passed in the body ",(0,o.kt)("br",null)," of the Add Participant API request) ",(0,o.kt)("br",null)," The API response contains the ",(0,o.kt)("inlineCode",{parentName:"td"},"authToken"),".")))),(0,o.kt)("p",null,"For v1 APIs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"let meetingInfo = DyteMeetingInfo(authToken: authToken,\n                                          roomName: meetingText,\n                                          enableAudio: true,\n                                          enableVideo: true)\n\n")),(0,o.kt)("p",null,"For v2 APIs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"let meetingInfo = DyteMeetingInfo(authToken: authToken,\n                                          enableAudio: true,\n                                          enableVideo: true)\n\n")),(0,o.kt)("h2",{id:"step-4-initialize-the-connection-request"},"Step 4: Initialize the connection request"),(0,o.kt)("p",null,"To initialize the connection request, call the ",(0,o.kt)("inlineCode",{parentName:"p"},"doInit()")," method obtained on\n",(0,o.kt)("inlineCode",{parentName:"p"},"meeting")," with the ",(0,o.kt)("inlineCode",{parentName:"p"},"meetingInfo")," argument. This will establish the connection\nwith the Dyte meeting server."),(0,o.kt)("p",null,"For v1 APIs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"meeting.doInit(dyteMeetingInfo: meetingInfo)\n")),(0,o.kt)("p",null,"For v2 APIs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"dyteMobileClient?.doInit(dyteMeetingInfo_: meetingInfo)\n")),(0,o.kt)("h2",{id:"step-5-connect-to-the-meeting"},"Step 5: Connect to the meeting"),(0,o.kt)("p",null,"Now, you have established the connection with the Dyte meeting server\nsuccessfully. Once ",(0,o.kt)("inlineCode",{parentName:"p"},"onMeetingInitCompleted()")," is triggered, next step is to join\nthe room."),(0,o.kt)("h3",{id:"join-the-room"},"Join the room"),(0,o.kt)("p",null,"To join the meeting room, do the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"meeting.joinRoom()\n")),(0,o.kt)("p",null,"Joina room event listeners: Once you call ",(0,o.kt)("inlineCode",{parentName:"p"},"joinRoom()"),", you can listen to\ncallbacks for this action on meeting object if you have done\n",(0,o.kt)("inlineCode",{parentName:"p"},"meeting.addSelfEventsListener(selfEventsListener: self)"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"extension MeetingViewModel: DyteSelfEventsListener {\n    func onMeetingRoomJoinStarted() {\n        // meeting join started\n    }\n\n    func onMeetingRoomJoined() {\n        // meeting room joined succesfully\n    }\n\n    func onMeetingRoomJoinFailed(exception: KotlinException) {\n        // error in joining meeting room.\n    }\n  }\n")),(0,o.kt)("h3",{id:"leave-the-room"},"Leave the room"),(0,o.kt)("p",null,"Once the meeting is over, you can leave the meeting room. To leave the meeting\ncall ",(0,o.kt)("inlineCode",{parentName:"p"},"leaveRoom()")," on ",(0,o.kt)("inlineCode",{parentName:"p"},"meeting")," object."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"meeting.leaveRoom()\n")),(0,o.kt)("p",null,"Leave room event listeners: You can listen to ",(0,o.kt)("inlineCode",{parentName:"p"},"leaveRoom()")," callbacks by\nregistering obsever on meeting object as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-swift"},"extension MeetingViewModel: DyteSelfEventsListener {\n    func onMeetingRoomLeaveStarted() {\n        // meeting room leave started\n    }\n\n    func onMeetingRoomLeft() {\n        // meeting room leave completed\n    }\n}\n")),(0,o.kt)("h2",{id:"ios-release-builds"},"iOS release builds"),(0,o.kt)("p",null,"Disable ",(0,o.kt)("inlineCode",{parentName:"p"},"BITCODE")," in your Podfile."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"post_install do |installer|\n   installer.pods_project.targets.each do |target|\n       target.build_configurations.each do |config|\n           config.build_settings['ENABLE_BITCODE'] = 'NO'\n       end\n   end\nend\n")))}g.isMDXComponent=!0}}]);