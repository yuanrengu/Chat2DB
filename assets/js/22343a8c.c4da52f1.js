"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[3482],{29667:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>p,default:()=>h,frontMatter:()=>r,metadata:()=>u,toc:()=>d});t(67294);var i=t(3905);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function o(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const r={sidebar_position:5},p="Plugins",u={unversionedId:"plugins",id:"plugins",title:"Plugins",description:"You may create, manage, and host your own custom plugins with the help of the",source:"@site/docs/cli/plugins.mdx",sourceDirName:".",slug:"/plugins",permalink:"/cli/plugins",draft:!1,editUrl:"https://github.com/dyte-in/docs/tree/main/docs/cli/plugins.mdx",tags:[],version:"current",lastUpdatedAt:1682488294,formattedLastUpdatedAt:"Apr 26, 2023",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Recordings",permalink:"/cli/recording"},next:{title:"Webhooks",permalink:"/cli/webhooks"}},s={},d=[{value:"Overview",id:"overview",level:2},{value:"TL;DR",id:"tldr",level:2},{value:"Usage",id:"usage",level:2},{value:"Creating a plugin",id:"creating-a-plugin",level:3},{value:"Listing your plugins",id:"listing-your-plugins",level:3},{value:"Viewing plugin details",id:"viewing-plugin-details",level:3},{value:"Deleting a plugin",id:"deleting-a-plugin",level:3},{value:"Updating a plugin",id:"updating-a-plugin",level:3},{value:"Releasing plugins",id:"releasing-plugins",level:2},{value:"Packaging a plugin",id:"packaging-a-plugin",level:3},{value:"Publishing a plugin",id:"publishing-a-plugin",level:3},{value:"Unpublishing a plugin",id:"unpublishing-a-plugin",level:3}],g={toc:d},c="wrapper";function h(e){var{components:n}=e,t=o(e,["components"]);return(0,i.kt)(c,l(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){a(e,n,t[n])}))}return e}({},g,t),{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"plugins"},"Plugins"),(0,i.kt)("p",null,"You may create, manage, and host your own custom plugins with the help of the\n",(0,i.kt)("inlineCode",{parentName:"p"},"dyte plugins")," subcommand."),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"You can publish plugins for your organization on Dyte. We manage only the\nclient-side code for plugins, the backend for a plugin (if any) ",(0,i.kt)("strong",{parentName:"p"},"will not")," be\nhosted by Dyte. Therefore, server-side templating is not supported in plugins."),(0,i.kt)("p",null,"Every functional Dyte plugin requires a configuration file, which is named\n",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-config.json")," by default. This contains details about the plugin such as\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"pluginId"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"version"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"description"),", etc. This file is\nauto-generated upon running the ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte plugins create")," command, which is\nexplained in detail later. You can know more about the ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-config.json")," file\nin the description for the ",(0,i.kt)("inlineCode",{parentName:"p"},"publish")," subcommand."),(0,i.kt)("h2",{id:"tldr"},"TL;DR"),(0,i.kt)("p",null,"In order to create and publish a plugin, you need to do the following."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Run ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte plugins create"),", and enter the details. This should create a\n",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json")," file."),(0,i.kt)("li",{parentName:"ol"},"Copy the ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json")," into the folder containing the ",(0,i.kt)("inlineCode",{parentName:"li"},"index.html")," file\nof your plugin. If you're using a frontend library like React, this would be\nthe build folder."),(0,i.kt)("li",{parentName:"ol"},"Change your directory to the folder containing the ",(0,i.kt)("inlineCode",{parentName:"li"},"index.html")," and\n",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json")," files."),(0,i.kt)("li",{parentName:"ol"},"Modify the ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json")," file to update the version and the files that\nwill be included and excluded while generating the plugin archive."),(0,i.kt)("li",{parentName:"ol"},"Run ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte plugins publish -l")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte plugins publish --latest")," to upload\nand serve your plugin on Dyte.")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("h3",{id:"creating-a-plugin"},"Creating a plugin"),(0,i.kt)("p",null,"You can use the following subcommand to create a new Dyte plugin. This sends an\nAPI request to register a new plugin under your organization. Additionally, it\ncreates a file called ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-config.json"),", which is essential for the plugin to\nfunction properly."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins create\n")),(0,i.kt)("h3",{id:"listing-your-plugins"},"Listing your plugins"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"list | ls")," subcommand can be used to list the names and IDs of all plugins\nthat were created by your organization."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins ls\n")),(0,i.kt)("h3",{id:"viewing-plugin-details"},"Viewing plugin details"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"describe")," subcommand logs the details of a plugin. The ",(0,i.kt)("inlineCode",{parentName:"p"},"pluginId")," is\nrequired."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins describe -p <plugin id>\n")),(0,i.kt)("h3",{id:"deleting-a-plugin"},"Deleting a plugin"),(0,i.kt)("p",null,"With the help of the ",(0,i.kt)("inlineCode",{parentName:"p"},"delete | rm")," subcommand, you can delete an existing\nplugin. The ",(0,i.kt)("inlineCode",{parentName:"p"},"pluginId")," is required."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins rm -p <plugin id>\n")),(0,i.kt)("h3",{id:"updating-a-plugin"},"Updating a plugin"),(0,i.kt)("p",null,"To update the details of a plugin, you can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"update")," subcommand. The\n",(0,i.kt)("inlineCode",{parentName:"p"},"pluginId")," is required."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins update -p <plugin id>\n")),(0,i.kt)("h2",{id:"releasing-plugins"},"Releasing plugins"),(0,i.kt)("h3",{id:"packaging-a-plugin"},"Packaging a plugin"),(0,i.kt)("p",null,"In order to publish a plugin, a ",(0,i.kt)("inlineCode",{parentName:"p"},".dyt")," archive is created with all the\nclient-side source code and the ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-config.json")," file. This file is required\nby the ",(0,i.kt)("inlineCode",{parentName:"p"},"publish")," subcommand, which also internally generates this archive. You\ncan use the ",(0,i.kt)("inlineCode",{parentName:"p"},"pack")," command if you just want to generate the archive, but do not\nwant to publish it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins pack\n")),(0,i.kt)("h3",{id:"publishing-a-plugin"},"Publishing a plugin"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"publish")," subcommand handles publishing a plugin on Dyte. You must run this\ncommand in the directory where the ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-config.json")," and the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.html")," files\nof your plugin are present. In the ",(0,i.kt)("inlineCode",{parentName:"p"},"dyte-config.json"),", you can also describe the\nfiles you want to include in and exclude from the archive. In order to publish a\nplugin, you must follow these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Copy the ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json")," (which was created by the ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte plugins create"),"\ncommand) into the folder containing your ",(0,i.kt)("inlineCode",{parentName:"li"},"index.html")," file. In case you're\nusing a frontend library like React, you must copy ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json")," into\nthe ",(0,i.kt)("inlineCode",{parentName:"li"},"build")," folder."),(0,i.kt)("li",{parentName:"ol"},"Update the plugin version in ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte-config.json"),"."),(0,i.kt)("li",{parentName:"ol"},"Run ",(0,i.kt)("inlineCode",{parentName:"li"},"dyte plugins publish -l"),".")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"-l")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"--latest")," option is ",(0,i.kt)("strong",{parentName:"p"},"required")," if you want your plugin's new\nversion to be deployed. If the ",(0,i.kt)("inlineCode",{parentName:"p"},"-l")," option is absent, the new version of the\nplugin will be saved in our storage bucket, but it will not be served. In that\ncase, an older version (if any) will be served. You may not use the ",(0,i.kt)("inlineCode",{parentName:"p"},"-l")," option\nif you want to upload your code to the storage bucket but you do not want to\nserve it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins publish -l\n")),(0,i.kt)("h3",{id:"unpublishing-a-plugin"},"Unpublishing a plugin"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"unpublish")," subcommand can be used if you want do not want your plugin to\nshow up on the Dyte plugins panel. The ",(0,i.kt)("inlineCode",{parentName:"p"},"pluginId")," is required."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins unpublish\n")),(0,i.kt)("admonition",{title:"Note that the plugin and its code will not be deleted, it will just",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"not show up on the panel (and thus become unusable). :::"),(0,i.kt)("h2",{parentName:"admonition",id:"versioning"},"Versioning"),(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"version")," subcommand has 3 subcommands of its own. The ",(0,i.kt)("inlineCode",{parentName:"p"},"pluginId")," is\nrequired for each of these subcommands."),(0,i.kt)("h3",{parentName:"admonition",id:"list"},"List"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"version list")," can be used to list all versions of your Dyte plugin."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins version list\n")),(0,i.kt)("h3",{parentName:"admonition",id:"delete"},"Delete"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"version delete")," can be used to delete a particular version of your Dyte plugin.\nThis accepts the version you want to delete with the help of the ",(0,i.kt)("inlineCode",{parentName:"p"},"-v")," option."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins version delete -v <version>\n")),(0,i.kt)("h3",{parentName:"admonition",id:"change-latest"},"Change latest"),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"version change-latest")," can be used to change the version of your plugin that is\nserved. This accepts the version you want to serve with the help of the ",(0,i.kt)("inlineCode",{parentName:"p"},"-v"),"\noption."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"dyte plugins version change-latest -v <version>\n"))))}h.isMDXComponent=!0}}]);