"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[13589],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>v});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=p(n),u=a,v=c["".concat(l,".").concat(u)]||c[u]||m[u]||i;return n?r.createElement(v,s(s({ref:t},d),{},{components:n})):r.createElement(v,s({ref:t},d))}));function v(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:a,s[1]=o;for(var p=2;p<i;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},32469:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>v,frontMatter:()=>o,metadata:()=>p,toc:()=>c});n(67294);var r=n(3905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const o={title:"Livestreaming any Video via RTMP (Custom Input)",sidebar_position:2},l="Livestreaming any Video via RTMP (Custom Input)",p={unversionedId:"livestream/livestream-any-rtmp",id:"livestream/livestream-any-rtmp",title:"Livestreaming any Video via RTMP (Custom Input)",description:"Dyte can livestream video from any application like",source:"@site/docs/guides/livestream/livestream-any-rtmp.mdx",sourceDirName:"livestream",slug:"/livestream/livestream-any-rtmp",permalink:"/guides/livestream/livestream-any-rtmp",draft:!1,editUrl:"https://github.com/dyte-in/docs/tree/main/docs/guides/livestream/livestream-any-rtmp.mdx",tags:[],version:"current",lastUpdatedAt:1682412261,formattedLastUpdatedAt:"Apr 25, 2023",sidebarPosition:2,frontMatter:{title:"Livestreaming any Video via RTMP (Custom Input)",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Getting Started with Interactive Livestreaming",permalink:"/guides/livestream/getting-started-with-livestreaming"},next:{title:"Livestreaming a Dyte Meeting via HLS",permalink:"/guides/livestream/livestream-dyte-meeting"}},d={},c=[{value:"Step 1: Generate credentials for a livestream",id:"step-1-generate-credentials-for-a-livestream",level:2},{value:"Request",id:"request",level:4},{value:"Response",id:"response",level:4},{value:"Step 2: Specify RTMP ingestion URL for livestreaming",id:"step-2-specify-rtmp-ingestion-url-for-livestreaming",level:2},{value:"Fetch details of active livestreams",id:"fetch-details-of-active-livestreams",level:2},{value:"Request",id:"request-1",level:4},{value:"Response",id:"response-1",level:4}],m={toc:c},u="wrapper";function v(e){var{components:t}=e,o=s(e,["components"]);return(0,r.kt)(u,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},m,o),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"livestreaming-any-video-via-rtmp-custom-input"},"Livestreaming any Video via RTMP (Custom Input)"),(0,r.kt)("p",null,"Dyte can livestream video from any application like\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/OBS_Studio"},"OBS"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/FFmpeg"},"ffmpeg")," that can stream via RTMP in a few\nsimple steps."),(0,r.kt)("h2",{id:"step-1-generate-credentials-for-a-livestream"},"Step 1: Generate credentials for a livestream"),(0,r.kt)("p",null,"This step generates credentials and ingest URLs for the livestream."),(0,r.kt)("h4",{id:"request"},"Request"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request POST 'https://api.cluster.dyte.in/v2/livestreams' \\\n     --header 'Content-Type: application/json' \\\n     --header 'Authorization: Basic ZGVtbzpwQDU1dzByZA==' \\\n     --data-raw '{\n    \"name\": \"test_livestream\"\n}'\n")),(0,r.kt)("h4",{id:"response"},"Response"),(0,r.kt)("p",null,"The response contains the ",(0,r.kt)("inlineCode",{parentName:"p"},"ingest_server"),", livestream ",(0,r.kt)("inlineCode",{parentName:"p"},"id"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"stream_key"),", and\n",(0,r.kt)("inlineCode",{parentName:"p"},"playback_url"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true,\n  "data": {\n    "status": "OFFLINE",\n    "name": "test_livestream",\n    "meeting_id": null,\n    "ingest_server": "rtmps://2bd803bb7b1.global-contribute.live-video.net:443/app/",\n    "id": "9fb22eea-3392-42ad-b884-1129a4f517d2",\n    "stream_key": "sk_ap-south-2_JKLBQlfOE_eb14jL5zj3lbj58xHSb",\n    "playback_url": "https://2bd803bb7b1.ap-south-1.playback.live-video.net/api/video/v1/ap-south-1.944908621410.channel.e1lAS0BHpDxP.m3u8"\n  }\n}\n')),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Parameters")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ingest_server"),(0,r.kt)("td",{parentName:"tr",align:null},"The ingest server URL in RTMP livestreaming is the server URL to which the RTMP encoder sends the video and audio data. The ingest server receives the RTMP stream and transcodes it into different video formats and bitrates, which can then be distributed to viewers through a content delivery network (CDN). It is essentially the address of the server where the video data is sent to be processed and distributed for live streaming. You need to enter the ",(0,r.kt)("inlineCode",{parentName:"td"},"ingest_server")," along with ",(0,r.kt)("inlineCode",{parentName:"td"},"stream_key")," in your application. See step 2.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"id"),(0,r.kt)("td",{parentName:"tr",align:null},"This is your livestream ID.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stream_key"),(0,r.kt)("td",{parentName:"tr",align:null},"The stream key in RTMP livestreaming is a unique identifier that is used to authorize and link the RTMP encoder to a specific live stream. The stream key is like a password that allows the encoder to access the specific live stream on the server and start sending data to it. It is an important security measure to prevent unauthorized access to the live stream, as the stream key is needed to begin streaming to a specific event or channel. It's important to keep the stream key safe and secure. You need to enter the ",(0,r.kt)("inlineCode",{parentName:"td"},"stream_key")," in your application. See step 2.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"playback_url"),(0,r.kt)("td",{parentName:"tr",align:null},"The playback URL is the web address that viewers can use to watch the live stream. Viewers can enter the playback URL into their web browser or use a media player that supports HLS or LHLS streaming to watch the live stream.")))),(0,r.kt)("h2",{id:"step-2-specify-rtmp-ingestion-url-for-livestreaming"},"Step 2: Specify RTMP ingestion URL for livestreaming"),(0,r.kt)("p",null,"In your application, enter the ingestion URL you generated in\n",(0,r.kt)("a",{parentName:"p",href:"#step-1-generate-credentials-for-live-stream"},"Step 1"),"."),(0,r.kt)("p",null,"You must enter the ingest server URL and stream key separately in\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/OBS_Studio"},"OBS"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"obs-example",src:n(24305).Z,width:"1832",height:"1304"}),(0,r.kt)("em",{parentName:"p"},"Input stream added to the OBS")),(0,r.kt)("p",null,"However, for ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/FFmpeg"},"ffmpeg"),", you must specify\nboth the ingest URL and the stream key together. For example,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'ffmpeg -re -f lavfi -i "testsrc=size=1280x720 [out0]; sine=frequency=500 [out1]" \\\n  -acodec aac -vcodec h264 -f flv \\\n  rtmps://2ec802dd47b0.global-contribute.live-video.net:443/app/sk_ap-south-1_nDT9sbq3qZyf_SYSyPE7wnVGUQYNyejMe6Z3n\n')),(0,r.kt)("h2",{id:"fetch-details-of-active-livestreams"},"Fetch details of active livestreams"),(0,r.kt)("p",null,"Using the livestream ID that you generated in Step 1, you can fetch details of\nactive livestreams."),(0,r.kt)("h4",{id:"request-1"},"Request"),(0,r.kt)("p",null,"This request returns the ",(0,r.kt)("inlineCode",{parentName:"p"},"ingest_seconds"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"viewer_seconds"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"ingest_server"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"id"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"stream_key"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"playback_url"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location \\\n     --request GET 'https://api.cluster.dyte.in/v2/livestreams/9fb22eea-3392-42ad-b884-1129a4f517d2' \\\n     --header 'Authorization: Basic ZGVtbzpwQDU1dzByZA=='\n")),(0,r.kt)("admonition",{title:"note",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ingest and viewer seconds details are returned after 40-50 seconds; until then,\nthey default to sixty.")),(0,r.kt)("h4",{id:"response-1"},"Response"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true,\n  "data": {\n    "status": "OFFLINE",\n    "name": "test_livestream",\n    "meeting_id": null,\n    "ingest_seconds": 0,\n    "viewer_seconds": 0,\n    "ingest_server": "rtmps://2bd803bb7b1.global-contribute.live-video.net:443/app/",\n    "id": "9fb22eea-3392-42ad-b884-1129a4f517d2",\n    "stream_key": "sk_ap-south-2_JKLBQlfOE_eb14jL5zj3lbj58xHSb",\n    "playback_url": "https://2bd803bb7b1.ap-south-1.playback.live-video.net/api/video/v1/ap-south-1.944908621410.channel.e1lAS0BHpDxP.m3u8"\n  }\n}\n')))}v.isMDXComponent=!0},24305:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/obs-example-c441f3bb11d0512c1be78f4f241c9581.jpeg"}}]);